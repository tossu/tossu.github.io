<!doctype html>
<html>

<head>

    <meta charset="utf-8" />
    <title>Saiturin k√§sikirja</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/utils.css" />

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <script type="module">
        const url = "https://raw.githubusercontent.com/tossu/tossu.github.io/master/saiturit/saiturit.md";
        async function fetchMarkdown(url) {
            const response = await fetch(url);
            if (response.status !== 200) {
                return "";
            }
            const text = await response.text();
            return text;
        }

        async function parseMarkdown(text) {
            return marked.parse(text);
        }

        function showMarkdown(markdown) {
            const contentElement = document.getElementById('content');
            contentElement.innerHTML = markdown;
        }

        const text = await fetchMarkdown(url);
        const markdown = await parseMarkdown(text);
        showMarkdown(markdown);
    </script>


</head>

<body>
    <div id="container">
        <div id="content"></div>
    </div>
</body>

</html>